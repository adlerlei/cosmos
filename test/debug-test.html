<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmos API é™¤éŒ¯æ¸¬è©¦</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f7;
        }
        
        .test-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-title {
            color: #007aff;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        
        .debug-info {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ Cosmos API é™¤éŒ¯æ¸¬è©¦</h1>
    <p>é€™å€‹é é¢ç”¨ä¾†é™¤éŒ¯å’Œé©—è­‰ API åŠŸèƒ½çš„å„å€‹éƒ¨åˆ†</p>

    <div class="test-section">
        <h2 class="test-title">æ¸¬è©¦ 1: åŸºæœ¬æŒ‰éˆ•åŠŸèƒ½</h2>
        <div id="test1"></div>
        <div class="debug-info" id="debug1">ç­‰å¾…æ¸¬è©¦...</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">æ¸¬è©¦ 2: è¡¨å–®æ•¸æ“šæ”¶é›†</h2>
        <div id="test2"></div>
        <div class="debug-info" id="debug2">ç­‰å¾…æ¸¬è©¦...</div>
    </div>

    <div class="test-section">
        <h2 class="test-title">æ¸¬è©¦ 3: API è«‹æ±‚</h2>
        <div id="test3"></div>
        <div class="debug-info" id="debug3">ç­‰å¾…æ¸¬è©¦...</div>
    </div>

    <script src="../src/cosmos.js"></script>
    <script>
        function updateDebug(testId, message) {
            document.getElementById(`debug${testId}`).textContent = message;
            console.log(`Debug ${testId}:`, message);
        }

        // æ¸¬è©¦ 1: åŸºæœ¬æŒ‰éˆ•åŠŸèƒ½
        updateDebug(1, 'åˆå§‹åŒ–æ¸¬è©¦ 1...');
        Cosmos.create('test1')
            .title('åŸºæœ¬æŒ‰éˆ•æ¸¬è©¦')
            .text('æ¸¬è©¦æŒ‰éˆ•é»æ“Šæ˜¯å¦æ­£å¸¸')
            .button('é»æ“Šæˆ‘')
            .onClick(() => {
                updateDebug(1, 'âœ… æŒ‰éˆ•é»æ“Šæ­£å¸¸ï¼');
            })
            .start();

        // æ¸¬è©¦ 2: è¡¨å–®æ•¸æ“šæ”¶é›†
        updateDebug(2, 'åˆå§‹åŒ–æ¸¬è©¦ 2...');
        Cosmos.create('test2')
            .title('è¡¨å–®æ•¸æ“šæ¸¬è©¦')
            .input('æ¸¬è©¦æ¨™é¡Œ')
            .input('æ¸¬è©¦å…§å®¹')
            .button('æ”¶é›†æ•¸æ“š')
            .onClick((values) => {
                updateDebug(2, `âœ… æ•¸æ“šæ”¶é›†æˆåŠŸï¼æ”¶åˆ°: ${JSON.stringify(values)}`);
            })
            .start();

        // æ¸¬è©¦ 3: API è«‹æ±‚
        updateDebug(3, 'åˆå§‹åŒ–æ¸¬è©¦ 3...');
        Cosmos.create('test3')
            .title('API è«‹æ±‚æ¸¬è©¦')
            .button('ç™¼é€ API è«‹æ±‚')
            .onClick(() => {
                updateDebug(3, 'æ­£åœ¨ç™¼é€ API è«‹æ±‚...');
                
                const apiInstance = new Cosmos.App();
                apiInstance.setContainer('test3');
                apiInstance.GET('https://jsonplaceholder.typicode.com/users/1')
                    .onSuccess((data) => {
                        updateDebug(3, `âœ… API è«‹æ±‚æˆåŠŸï¼ç”¨æˆ¶: ${data.name}`);
                    })
                    .onError((error) => {
                        updateDebug(3, `âŒ API è«‹æ±‚å¤±æ•—: ${error.error}`);
                    });
            })
            .start();

        console.log('ğŸ”§ é™¤éŒ¯æ¸¬è©¦å·²åˆå§‹åŒ–å®Œæˆ');
    </script>
</body>
</html>
